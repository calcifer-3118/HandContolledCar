<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Three.js - Template - Simple</title><script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous"/><style>model-viewer{--poster-color:wheat;position:absolute;top:-9%;width:100vw;height:100vh}</style><script defer="defer" src="bundle.bddc6e3c9fc5f8419757.js"></script><link href="main.css" rel="stylesheet"></head><body><canvas class="output_canvas"></canvas><video class="input_video" style="display:none"></video><button class="hand" style="z-index:60;background-color:#faebd7;position:absolute;top:88%;padding:5px;left:38%;font-size:larger" onclick="loadHandModel()">Hand</button> <button class="keyboard_btn" onclick="loadKeyboard()" style="z-index:60;background-color:#faebd7;position:absolute;top:88%;padding:5px;left:44%;font-size:larger">Keyboard</button> <button class="gamepad" onclick="loadGamepad()" style="z-index:60;background-color:#faebd7;position:absolute;top:88%;padding:5px;left:54%;font-size:larger">Gamepad</button> <button class="start" style="z-index:60;background-color:#faebd7;position:absolute;top:88%;padding:5px;left:45%;font-size:larger;display:none">Start</button> <button class="stop" style="z-index:60;background-color:#faebd7;position:absolute;top:88%;padding:5px;left:52%;font-size:larger;display:none">Stop</button><canvas class="webgl" style="display:none"></canvas><model-viewer src="car.glb" camera-controls poster="poster.webp" shadow-intensity="1.16" autoplay environment-image="pillars_1k.hdr" exposure="1" shadow-softness="0.66" auto-rotate min-camera-orbit="auto 53deg 7.074m" max-camera-orbit="auto 91deg auto" min-field-of-view="30deg" camera-orbit="-558.5deg 79.92deg auto"><button class="Hotspot" slot="hotspot-1" data-position="1.354290934124578m 0.6702768316659289m -0.05539096741182489m" data-normal="0.9593404120237271m 0m -0.28225161444736796m" data-visibility-attribute="visible"><div class="HotspotAnnotation">HC-SR04</div></button><button class="Hotspot" slot="hotspot-3" data-position="-0.011169953394502719m 0.3716297833187853m -0.0599090770062517m" data-normal="0m 1m 0m" data-visibility-attribute="visible"><div class="HotspotAnnotation">L293d Motor Driver Shield</div></button><button class="Hotspot" slot="hotspot-4" data-position="-1.2223021549933624m 0.23234734684228964m -0.2744637534233657m" data-normal="0m 1m 0m" data-visibility-attribute="visible"><div class="HotspotAnnotation">9v Battery</div></button><button class="Hotspot" slot="hotspot-5" data-position="0.9180258515590849m -0.16193979301705597m -0.49562096239284736m" data-normal="0.9999999999999997m -8.881784726396864e-16m 2.9802323275873745e-8m" data-visibility-attribute="visible"><div class="HotspotAnnotation">9v DC Motor</div></button><button class="Hotspot" slot="hotspot-6" data-position="1.4446826532841832m 0.20399139982359638m -0.006978139190279925m" data-normal="0.9999999999999996m 2.980232327587374e-8m -8.881784726396864e-16m" data-visibility-attribute="visible"><div class="HotspotAnnotation">Servo Motor</div></button><button class="Hotspot" slot="hotspot-7" data-position="-0.19760607409845476m 0.16309666736080336m -0.34825516238174525m" data-normal="0.8772165276448449m -0.010667490516955744m -0.4799764247052057m" data-visibility-attribute="visible"><div class="HotspotAnnotation">Arduino Uno</div></button><div class="progress-bar hide" slot="progress-bar"><div class="update-bar"></div></div></model-viewer><h1 class="heading" style="position:absolute;color:#faebd7"></h1><div class="keyboard" style="display:none"><div class="row"><div class="key orange" data-code="Escape" data-macro="orange"></div><div class="key" data-code="Digit1"></div><div class="key" data-code="Digit2"></div><div class="key" data-code="Digit3"></div><div class="key" data-code="Digit4"></div><div class="key" data-code="Digit5"></div><div class="key" data-code="Digit6"></div><div class="key" data-code="Digit7"></div><div class="key" data-code="Digit8"></div><div class="key" data-code="Digit9"></div><div class="key" data-code="Digit0"></div><div class="key" data-code="Minus"></div><div class="key" data-code="Equal"></div><div class="key size-4 grey stretch" data-code="Backspace"></div><div class="key red" data-macro="red"></div></div><div class="row"><div class="key size-2 grey stretch" data-code="Tab"></div><div class="key" data-code="KeyQ"></div><div class="key" data-code="KeyW"></div><div class="key" data-code="KeyE"></div><div class="key" data-code="KeyR"></div><div class="key" data-code="KeyT"></div><div class="key" data-code="KeyY"></div><div class="key" data-code="KeyU"></div><div class="key" data-code="KeyI"></div><div class="key" data-code="KeyO"></div><div class="key" data-code="KeyP"></div><div class="key" data-code="BracketLeft"></div><div class="key" data-code="BracketRight"></div><div class="key size-2 grey stretch" data-code="Backslash"></div><div class="key yellow" data-macro="yellow"></div></div><div class="row"><div class="key size-3 grey stretch" data-code="CapsLock"></div><div class="key" data-code="KeyA"></div><div class="key" data-code="KeyS"></div><div class="key" data-code="KeyD"></div><div class="key" data-code="KeyF"></div><div class="key" data-code="KeyG"></div><div class="key" data-code="KeyH"></div><div class="key" data-code="KeyJ"></div><div class="key" data-code="KeyK"></div><div class="key" data-code="KeyL"></div><div class="key" data-code="Semicolon"></div><div class="key" data-code="Quote"></div><div class="key size-5 green stretch" data-code="Enter" data-macro="green:Enter"></div><div class="key green" data-macro="green"></div></div><div class="row"><div class="key size-5 yellow stretch" data-code="ShiftLeft" data-macro="yellow:ShiftLeft"></div><div class="key" data-code="KeyZ"></div><div class="key" data-code="KeyX"></div><div class="key" data-code="KeyC"></div><div class="key" data-code="KeyV"></div><div class="key" data-code="KeyB"></div><div class="key" data-code="KeyN"></div><div class="key" data-code="KeyM"></div><div class="key" data-code="Comma"></div><div class="key" data-code="Period"></div><div class="key" data-code="Slash"></div><div class="key size-3 yellow stretch" data-code="ShiftRight" data-macro="yellow:ShiftRight"></div><div class="key" data-code="ArrowUp"></div><div class="key blue" data-macro="blue"></div></div><div class="row"><div class="key size-6 red" data-code="ControlLeft" data-macro="red:ControlLeft"></div><div class="key size-6 purple" data-code="MetaLeft" data-macro="purple:MetaLeft"></div><div class="key size-6 blue" data-code="AltLeft" data-macro="blue:AltLeft"></div><div class="key size-7 empty" data-code="Space" data-macro="default:Space"></div><div class="key size-2 blue stretch" data-code="AltRight" data-macro="blue:AltRight"></div><div class="key size-2 purple stretch" data-code="ContextMenu" data-macro="purple:ContextMenu"></div><div class="key" data-code="ArrowLeft"></div><div class="key" data-code="ArrowDown"></div><div class="key" data-code="ArrowRight"></div></div></div><script>const keyboard=document.querySelector(".keyboard"),rotation={x:20,y:0};let animatingColor,animating=[];const keysDown=new Set,keyCodeToEle=new Map,allKeys=[...document.querySelectorAll(".key")];allKeys.forEach(e=>{e.dataset.code&&keyCodeToEle.set(e.dataset.code,e)});const capsLockKeyIndex=allKeys.indexOf(keyCodeToEle.get("CapsLock")),arrowKeyIndexes=["Up","Left","Down","Right"].map(e=>allKeys.indexOf(keyCodeToEle.get("Arrow"+e))),macroKeys=[document.querySelector('[data-code="Escape"]'),...document.querySelectorAll("[data-macro]")],furthestKeys={};function animateMacro(e){const{macro:t}=e.dataset,[a,o]=t.split(":");!keysDown.has(capsLockKeyIndex)&&["Space","ShiftLeft"].includes(o)||(animating.push({time:performance.now(),macro:t,color:a}),1===animating.length&&_draw())}function setKeyState(e,t){const a=keyCodeToEle.get(e);if(a){t?(keysDown.add(allKeys.indexOf(a)),a.dataset.selected="true"):(a.dataset.selected="false",keysDown.delete(allKeys.indexOf(a)),macroKeys.includes(a)&&animateMacro(a));const[e,o,n,s]=arrowKeyIndexes.map(e=>keysDown.has(e));e&&(rotation.x+=1),o&&(rotation.y+=-1),n&&(rotation.x+=-1),s&&(rotation.y+=1),keyboard.style.setProperty("--rot-x",rotation.x+"deg"),keyboard.style.setProperty("--rot-y",rotation.y+"deg")}}function distSq(e,t,a,o){const n=a-e,s=o-t;return n*n+s*s}function dist(e,t,a,o){const n=distSq(e,t,a,o);return 0===n?0:Math.sqrt(n)}function _draw(e){if(draw(e),animating.length)requestAnimationFrame(_draw);else for(const e of document.querySelectorAll('[data-selected="true"], [data-color]'))e.dataset.selected="false",e.dataset.color=""}function draw(e){if(!animating.length)return;const t=Array(allKeys.length).fill(!1);keysDown.forEach(e=>t[e]=!0);for(let a=animating.length-1;a>=0;a--){const o=animating[a],n=e-o.time;if(n>=furthestKeys[o.macro]+100)return void animating.splice(a,1);for(let e=0;e<allKeys.length;e++){const a=allKeys[e].macro[o.macro];Math.abs(n-a)<100&&!t[e]&&(t[e]=o.color)}}for(let e=0;e<t.length;e++){const a=allKeys[e];t[e]?(a.dataset.selected="true","string"==typeof t[e]&&(a.dataset.color=t[e])):(a.dataset.color="",a.dataset.selected="false")}}requestAnimationFrame(()=>{const e=allKeys.map(e=>e.getBoundingClientRect());for(const t of macroKeys){const a=allKeys.indexOf(t),o=t.dataset.macro;furthestKeys[o]=0;const n=e[a];for(let a=0;a<allKeys.length;a++){const s=allKeys[a];if(t===s)continue;const r=e[a],c=dist(n.x+.5*n.width,n.y+.5*n.height,r.x+.5*r.width,r.y+.5*r.height);s.macro=s.macro||{},s.macro[o]=c,c>furthestKeys[o]&&(furthestKeys[o]=c)}}}),macroKeys.forEach(e=>{e.addEventListener("click",()=>animateMacro(e))}),window.addEventListener("keydown",e=>{e.code.startsWith("F")&&!isNaN(e.code.slice(1))||(e.preventDefault(),setKeyState("CapsLock",e.getModifierState("CapsLock")),"CapsLock"!==e.code&&setKeyState(e.code,!0))}),window.addEventListener("keyup",e=>{e.preventDefault(),setKeyState("CapsLock",e.getModifierState("CapsLock")),"CapsLock"!==e.code&&setKeyState(e.code,!1)}),window.addEventListener("blur",e=>{animating.length&&animating.splice(0);for(const e of document.querySelectorAll('[data-selected="true"], [data-color]')){const t=allKeys.indexOf(e);t!==capsLockKeyIndex&&(e.dataset.selected="false",e.dataset.color="",keysDown.delete(t))}})</script><script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script></body></html>